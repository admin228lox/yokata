<style>
  @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap');

  body {
    margin: 0;
    background: linear-gradient(135deg, #121212, #1c1c1c);
    color: #fff;
    font-family: 'Poppins', sans-serif;
  }

  h1 {
    text-align: center;
    padding: 20px 0;
    font-size: 2rem;
    font-weight: 600;
  }

  .search-bar {
    display: flex;
    justify-content: center;
    margin-bottom: 25px;
    gap: 10px;
  }

  .search-bar input {
    width: 50%;
    padding: 12px 15px;
    border-radius: 25px;
    border: none;
    outline: none;
    font-size: 1rem;
    background: #2a2a2a;
    color: #fff;
    transition: 0.3s;
  }

  .search-bar input:focus { background: #333; }

  .search-bar button {
    padding: 12px 25px;
    border-radius: 25px;
    border: none;
    background: #1db954;
    color: #fff;
    font-weight: bold;
    cursor: pointer;
    transition: 0.3s;
  }

  .search-bar button:hover { background: #1ed760; }

  .results {
    display: flex;
    flex-direction: column;
    gap: 15px;
    max-width: 800px;
    margin: 0 auto 40px;
  }

  .track {
    display: flex;
    align-items: center;
    background: #1e1e1e;
    padding: 12px;
    border-radius: 15px;
    cursor: pointer;
    transition: transform 0.3s, background 0.3s, box-shadow 0.3s;
  }

  .track:hover {
    background: #333;
    transform: translateY(-3px);
    box-shadow: 0 8px 20px rgba(0,255,150,0.3);
  }

  .track img {
    width: 70px;
    height: 70px;
    border-radius: 10px;
    margin-right: 15px;
    object-fit: cover;
    box-shadow: 0 4px 10px rgba(0,0,0,0.3);
    transition: transform 0.3s;
  }

  .track:hover img { transform: scale(1.05); }

  .track-info {
    display: flex;
    flex-direction: column;
    justify-content: center;
  }

  .track-info strong { font-size: 1rem; margin-bottom: 5px; }
  .track-info span { font-size: 0.85rem; color: #aaa; }

  .player-container {
    max-width: 800px;
    margin: 0 auto 50px;
    text-align: center;
    background: #1e1e1e;
    border-radius: 20px;
    padding: 25px;
    box-shadow: 0 10px 25px rgba(0,0,0,0.5);
  }

  #playerCover {
    width: 150px;
    height: 150px;
    border-radius: 15px;
    margin-bottom: 15px;
    object-fit: cover;
    box-shadow: 0 6px 20px rgba(0,255,150,0.3);
    transition: transform 0.3s;
  }

  #trackTitle { font-weight: 600; margin: 10px 0 5px; font-size: 1.2rem; }
  #trackArtist { font-size: 0.9rem; color: #aaa; }

  #progressBar {
    width: 100%;
    height: 6px;
    background: #333;
    border-radius: 3px;
    margin: 15px 0;
    overflow: hidden;
  }

  #progress {
    height: 100%;
    width: 0%;
    background: #1db954;
    border-radius: 3px;
    transition: width 0.3s;
  }

  .controls {
    display: flex;
    justify-content: center;
    gap: 20px;
    margin-top: 20px;
  }

  .controls button {
    background: #1db954;
    border: none;
    border-radius: 50%;
    width: 55px;
    height: 55px;
    font-size: 1.4rem;
    cursor: pointer;
    transition: transform 0.3s, background 0.3s;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .controls button:hover { background: #1ed760; transform: scale(1.1); }

  @media (max-width: 600px) {
    .search-bar input { width: 65%; }
    .track img { width: 60px; height: 60px; }
    #playerCover { width: 120px; height: 120px; }
    .controls button { width: 50px; height: 50px; font-size: 1.2rem; }
  }
</style>

<div class="player-container">
  <img id="playerCover" src="" alt="cover">
  <div id="trackTitle">Название трека</div>
  <div id="trackArtist">Исполнитель</div>
  <div id="progressBar"><div id="progress"></div></div>
  <div class="controls">
    <button id="prevBtn">⏮</button>
    <button id="playBtn">⏯</button>
    <button id="nextBtn">⏭</button>
  </div>
</div>

<script>
let playlist = [];
let current = 0;
let playing = false;
let progressInterval;

function updatePlayer(track) {
  document.getElementById('playerCover').src = track.album.images[0]?.url || '';
  document.getElementById('trackTitle').textContent = track.name;
  document.getElementById('trackArtist').textContent = track.artists.map(a=>a.name).join(', ');
  document.getElementById('progress').style.width = '0%';
}

// Простейшая имитация прогресса (так как iframe Spotify Web Playback нельзя контролировать)
function startProgress() {
  clearInterval(progressInterval);
  let width = 0;
  progressInterval = setInterval(() => {
    width += 0.5;
    if(width > 100) { width=0; clearInterval(progressInterval); nextTrack(); }
    document.getElementById('progress').style.width = width + '%';
  }, 500);
}

function playTrack(index) {
  if(!playlist.length) return;
  current = index;
  const track = playlist[current];
  updatePlayer(track);
  document.getElementById('player').src = `https://open.spotify.com/embed/track/${track.uri.split(':')[2]}?utm_source=generator&theme=0`;
  if(playing) startProgress();
}

function nextTrack() { if(!playlist.length) return; current = (current+1)%playlist.length; playTrack(current); }
function prevTrack() { if(!playlist.length) return; current = (current-1+playlist.length)%playlist.length; playTrack(current); }
function togglePlay() { playing=!playing; if(playing) startProgress(); else clearInterval(progressInterval); }

document.getElementById('nextBtn').addEventListener('click', nextTrack);
document.getElementById('prevBtn').addEventListener('click', prevTrack);
document.getElementById('playBtn').addEventListener('click', togglePlay);
</script>
